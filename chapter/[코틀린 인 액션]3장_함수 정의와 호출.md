#[코틀린 인 액션 ] 3장. 함수 정의와 호출

## 다룰 내용
- 컬렉션, 문자열, 정규식을 다루기 위한 함수
- 이름 붙인 인자, 디퐅르 파라미터 값, 중위 호출 문법 사용
- 확장 함수와 확장 프로퍼티를 사용해 자바 라이브러리 적용
- 최상위 및 로컬 함수와 프로퍼티를 사용해 코드 구조화

<br>

### 1. 코틀린에서 컬렉션 만들기

<u>코틀린에서 사용하는 컬렉션은 자바보다 대체적으로 편리하게 사용 가능하다</u>

```java
import java.util.HashSet;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Arrays;

public class Main {
	public static void main(String[] args) {
		// HashSet
		HashSet<Integer> set = new HashSet<>(Arrays.asList(1, 7, 53));

		// ArrayList
		ArrayList<Integer> list = new ArrayList<>(Arrays.asList(1, 7, 53));

		// HashMap
		HashMap<Integer, String> map = new HashMap<>();
		map.put(1, "one");
		map.put(7, "seven");
		map.put(53, "fifty-three");
	}
}
```

코틀린에서는 Import 같은 자바 표준 라이버르리 클래스들을 자동으로 지원하므로 생략가능
```kotlin
val set3 = hashSetOf(1, 1, 53)
val list3 = arrayListOf(1, 1, 53)
val map3 = hashMapOf(1 to "one", 7 to "one", 53 to "fifty-three")
```
여기서 to는 코틀린에서 제공하는 표준 라이브러리 함수이며 뜻하는 바는 1 to one 
1이라는 키와 one 이라는 값을 가진 쌍을 나타낼때 사용한다<br><br>


<u>코틀린은 자신만의 컬렉션 기능을 제공하지 않는다.</u>

```kotlin
val set3 = hashSetOf(1, 1, 53)
val list3 = arrayListOf(1, 1, 53)
val map3 = hashMapOf(1 to "one", 7 to "one", 53 to "fifty-three")
```

위의 코틀린 컬렉션을 클래스로 변환해보면 다음과 같이 뜨는데

```kotlin
println(set3.javaClass) // class java.util.HashSet
println(list3.javaClass) // class java.util.ArrayList
println(map3.javaClass) // class java.util.HashMap
```

코틀린은 고유의 컬렉션을 쓰지않고 자바의 컬렉션을 그대로 가져다 활용하는 것을 볼수있다.
(참조 : study_3_1 심화 학습)<br><br><br>






## 2. 함수를 호출하기 쉽게 만들기


- 코틀린은 함수에 전달하는 인자 중 일부의 이름을 명시 할 수 있다.

```kotlin
println(joinToString1(list, separator=";", prefix="(", postfix=")"));
```

- 코틀린은 디폴트 파라메터 값을 명시하여 오버로딩을 최소화 할 수 있다.


```kotlin
fun <T> joinToString2(
    collection: Collection<T>,
    separator: String = ", ",
    prefix: String= "",
    postfix: String = ""
): String {

    val result = StringBuilder(prefix)

    for ((index, element) in collection.withIndex()) {
        if (index > 0) result.append(separator)
        result.append(element)
    }

    result.append(postfix)
    return result.toString()
}

fun main() {
    println(joinToString2(list, separator = ";", prefix = "(", postfix = ")"))
    println(joinToString2(list, separator = ";", prefix = "("));
    println(joinToString2(list, separator = ";"));
}
```

- 불필요한 유틸리티 클래스를 쓰지않고 최상위 함수로 특정기능을 수행 할 수 있다.


[ 자바 유틸리티 클래스 ]
```Java
package ch03.study.study_3_2;

final class MathUtil {

    // Private 생성자를 추가하여 외부 인스턴스화 방지
    private MathUtil() {
        throw new AssertionError("No MathUtils instances for you!");
    }

    // 정적 유틸리티 메서드
    public static int add(int a, int b) {
        return a + b;
    }
}
```
[코틀린 유틸리티 함수]

```kotlin
/* 코틀린 */
@file:JvmName("MathFunctions")
package Maths

fun add(a:Int,b:Int):Int{
    return a+b;
}
```


## 3. 확장 함수와 확장 프로퍼티

- 코틀린은 기존 함수를 보다 간편하게 확장해 나갈 수 있다.

[유틸리티 함수]
```kotlin 확장함수
@file:JvmName("StringFunctions")
package strings

fun String.lastChar2():Char {
    return this.get(this.length-1);
}

fun String.frist():Char {
    return this.get(0);
}

fun String.substr():String {
    return this.substring(1,3);
}

fun String.second():Char = this.substr().get(1);
```

[코틀린 코드]

```kotlin
import strings.*
//import strings.frist as fristNum -> as로 임포트한 함수를 다른 이름으로 변경 가능

fun main() {
    println("kotlin".frist());//함수
    println("kotlin".test().fristNum());//확장함수
    println("kotlin".second());//확장함수
    println("Kotlin".fristNum());//임포트한 함수를 다른 이름으로 부를 수 있다.
}
```



















